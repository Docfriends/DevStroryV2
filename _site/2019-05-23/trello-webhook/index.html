<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>트렐로 웹훅 받기</title>

  <!-- CSS -->
  <link rel="stylesheet" href="/DevStrory/assets/css/main.css" type="text/css">

  <!-- Font -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href='//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSans-kr.css' rel='stylesheet' type='text/css'>
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono" rel="stylesheet">

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for Docfriends 기술 블로그" href="/DevStrory/feed.xml" />
    <link href="https://docfriends.github.io/DevStrory/assets/images/favicon.ico" rel="shortcut icon"
          type="image/x-icon"/>
    <link href="https://docfriends.github.io/DevStrory/assets/images/logo.png" rel="icon" type="image/png"/>


  <meta name="apple-mobile-web-app-title" content="DocfriendsTec" />
  <meta name="description" content="닥프렌즈의 기술 블로그"/>
  <meta property="og:title" content="닥프렌즈">
    <meta content="https://docfriends.github.io/DevStrory/" property="og:url">
    <meta content="https://docfriends.github.io/DevStrory/assets/images/logo.png" property="og:image">
  <meta property="og:description" content="닥프렌즈의 기술 블로그"/>
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="">
    <meta content="https://docfriends.github.io/DevStrory/" name="twitter:url">
    <meta content="https://docfriends.github.io/DevStrory/assets/images/logo.png" name="twitter:image">
  <meta name="twitter:description" content="닥프렌즈의 기술 블로그"/>


  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>트렐로 웹훅 받기 | Docfriends 기술 블로그</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="트렐로 웹훅 받기" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="트렐로에서 웹훅으로 데이터 받기" />
<meta property="og:description" content="트렐로에서 웹훅으로 데이터 받기" />
<link rel="canonical" href="http://localhost:4000/DevStrory/2019-05-23/trello-webhook/" />
<meta property="og:url" content="http://localhost:4000/DevStrory/2019-05-23/trello-webhook/" />
<meta property="og:site_name" content="Docfriends 기술 블로그" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-05-23T00:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="트렐로 웹훅 받기" />
<script type="application/ld+json">
{"url":"http://localhost:4000/DevStrory/2019-05-23/trello-webhook/","headline":"트렐로 웹훅 받기","datePublished":"2019-05-23T00:00:00+09:00","dateModified":"2019-05-23T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/DevStrory/2019-05-23/trello-webhook/"},"description":"트렐로에서 웹훅으로 데이터 받기","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->



  <!-- Google Analytics -->

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-131153272-1', 'auto');
ga('send', 'pageview');

</script>



</head>

<body>
  <div class="content-container">
    <header class="header">
  <div class="header-title">
    <a href="http://localhost:4000/DevStrory">Docfriends 기술 블로그</a>
  </div>
  <nav class="header-nav">
    
    
    <a href="/DevStrory/">Post</a>
    
    
    
    <a href="/DevStrory/member">Member</a>
    
    
    
    <a href="/DevStrory/archive">Archive</a>
    
    
    
    <a href="/DevStrory/tags">Tags</a>
    
    
    
    <a href="https://github.com/Docfriends">Github</a>
    
    
  </nav>
</header>

<div class="post, container-content">
  <div class="post-title">트렐로 웹훅 받기</div>




<div class="post-writergroup">
  <a class="post-writerselect" href="https://github.com/pikachu987" title="https://github.com/pikachu987">
    <span class="post-writer" >Writer: 김관호 </span>
    <img class="post-profile" src="http://localhost:4000/DevStrory/assets/images/member/pikachu987.png" onerror="this.src='http://localhost:4000/DevStrory/assets/images/member/defaultProfile.png'">
  </a>
</div>




  <span class="post-date">
    <time>23 May 2019</time>
  </span>
  <div class="post-tag">
    <ul>
      
      <li>
        <a href="http://localhost:4000/DevStrory/tags#Trello">
          <span>Trello</span>
        </a>
      </li>
      
      
      <li>
        <a href="http://localhost:4000/DevStrory/tags#Webhook">
          <span>Webhook</span>
        </a>
      </li>
      
      
    </ul>
  </div>

  <p><a href="https://developers.trello.com/page/webhooks" target="blank">트렐로 웹훅 사이트</a></p>

<h3 id="1key-token">1.Key, Token</h3>

<h5 id="1-트렐로-key-받기">1) 트렐로 Key 받기</h5>

<p><a href="https://trello.com/" target="blank">트렐로 사이트</a> 에서 로그인을 해줍니다.</p>

<p><a href="https://trello.com/app-key/" target="blank">트렐로 AppKey 사이트</a> 에서 API Key를 받습니다.</p>

<p><img src="http://localhost:4000/DevStrory/images/2019/trello-webhook/key.png" alt="Key" /></p>

<p>AWS 사이트 상단에서 자기와 가까운 리전을 설정합니다.</p>

<p><img src="http://localhost:4000/DevStrory/images/2019/trello-webhook/getKey.png" alt="GetKey" /></p>

<p>트렐로 웹훅 Key를 받았습니다 🎉🎉🎉</p>

<h5 id="2-트렐로-token-받기">2) 트렐로 Token 받기</h5>

<p><a href="https://trello.com/1/authorize?expiration=never&amp;scope=read,write,account&amp;response_type=token&amp;name=Server%20Token&amp;key=" target="blank">https://trello.com/1/authorize?expiration=never&amp;scope=read,write,account&amp;response_type=token&amp;name=Server%20Token&amp;key=${key}</a></p>

<p>${key}는 방금 받은 트렐로 Key를 입력해 줍니다.</p>

<p><img src="http://localhost:4000/DevStrory/images/2019/trello-webhook/token.png" alt="Token" /></p>

<p>Allow 를 합니다.</p>

<p><img src="http://localhost:4000/DevStrory/images/2019/trello-webhook/getToken.png" alt="GetToken" /></p>

<p>트렐로 웹훅 Token을 받았습니다 🎉🎉🎉</p>

<h3 id="2보드-리스트-찾기">2.보드 리스트 찾기</h3>

<h5 id="1-트렐로-username-찾기">1) 트렐로 username 찾기</h5>

<p><img src="http://localhost:4000/DevStrory/images/2019/trello-webhook/username.png" alt="Username" /></p>

<p>이름옆에 회색글자가 username입니다.</p>

<h5 id="2-트렐로-id-찾기">2) 트렐로 ID 찾기</h5>

<p><a href="https://api.trello.com/1/members/" target="blank">https://api.trello.com/1/members/${username}</a></p>

<p>${username}은 username을 입력해 줍니다.</p>

<p><img src="http://localhost:4000/DevStrory/images/2019/trello-webhook/id.png" alt="Id" /></p>

<p>제일 앞에 ID가 있네요.</p>

<p><span>username을 입력</span><br />
(결과값 간단히 보기 <input id="check_find_id" checked="true" type="checkbox" />)<br />
<input id="input_username_id" type="text" value="" placeholder="username을 입력해 주세요." style="height: 40px; width: 80%; border: 2px solid black; border-radius: 5px; font-size: 15px;" />
<button id="find_id" style="height:44px; width: 15%; border-top: 2px solid black; border-radius: 5px; font-size: 16px; background-color: black; color: white;">ID 찾기</button></p>
<pre id="print_id" style="padding: 0px; margin: 0px;"></pre>

<h5 id="3-보드-리스트-검색">3) 보드 리스트 검색</h5>

<p><a href="https://api.trello.com/1/members//boards?key=&amp;token=" target="blank">https://api.trello.com/1/members/${id}/boards?key=${key}&amp;token=${token}</a></p>

<p>${id}은 방금 찾은 ID를 입력해 줍니다.<br />
${key}은 트렐로 Key를 입력해 줍니다.<br />
${token}은 트렐로 Token을 입력해 줍니다.</p>

<p><img src="http://localhost:4000/DevStrory/images/2019/trello-webhook/boardList.png" alt="BoardList" /></p>

<p>복잡합니다. 필요한건 보드의 shortLink입니다.</p>

<p><span>Key 입력</span><br />
<input id="input_key_board" type="text" value="" placeholder="키를 입력해 주세요." style="height: 40px; width: 100%; border: 2px solid black; border-radius: 5px; font-size: 15px;" />
<span>Token 입력</span><br />
<input id="input_token_board" type="text" value="" placeholder="토큰을 입력해 주세요." style="height: 40px; width: 100%; border: 2px solid black; border-radius: 5px; font-size: 15px;" />
<span>ID 입력</span><br />
<input id="input_id_board" type="text" value="" placeholder="ID를 입력해 주세요." style="height: 40px; width: 100%; border: 2px solid black; border-radius: 5px; font-size: 15px;" />
(결과값 간단히 보기 <input id="check_find_board" checked="true" type="checkbox" />)<br />
<button id="search_board" style="height:44px; width: 15%; border-top: 2px solid black; border-radius: 5px; font-size: 16px; background-color: black; color: white;">트렐로 보드 찾기</button></p>
<pre id="print_board" style="padding: 0px; margin: 0px;"></pre>

<h5 id="4-보드의-리스트-검색">4) 보드의 리스트 검색</h5>

<p><a href="https://api.trello.com/1/boards//lists?key=&amp;token=" target="blank">https://api.trello.com/1/boards/${shortLink}/lists?key=${key}&amp;token=${token}</a></p>

<p>${shortLink}는 원하는 보드의 shortLink를 입력해 줍니다.<br />
${key}은 트렐로 Key를 입력해 줍니다.<br />
${token}은 트렐로 Token을 입력해 줍니다.</p>

<p><img src="http://localhost:4000/DevStrory/images/2019/trello-webhook/list.png" alt="List" /></p>

<p>리스트까지 가져왔습니다.</p>

<p><span>Key 입력</span><br />
<input id="input_key_list" type="text" value="" placeholder="키를 입력해 주세요." style="height: 40px; width: 100%; border: 2px solid black; border-radius: 5px; font-size: 15px;" />
<span>Token 입력</span><br />
<input id="input_token_list" type="text" value="" placeholder="토큰을 입력해 주세요." style="height: 40px; width: 100%; border: 2px solid black; border-radius: 5px; font-size: 15px;" />
<span>ID 입력</span><br />
<input id="input_shortLink_list" type="text" value="" placeholder="shortLink를 입력해 주세요." style="height: 40px; width: 100%; border: 2px solid black; border-radius: 5px; font-size: 15px;" />
(결과값 간단히 보기 <input id="check_find_list" checked="true" type="checkbox" />)<br />
<button id="search_list" style="height:44px; width: 25%; border-top: 2px solid black; border-radius: 5px; font-size: 16px; background-color: black; color: white;">트렐로 보드의 리스트 찾기</button></p>
<pre id="print_list" style="padding: 0px; margin: 0px;"></pre>

<h3 id="3웹훅-등록-삭제하기">3.웹훅 등록, 삭제하기</h3>

<h5 id="1-웹훅을-받을-url만들기">1) 웹훅을 받을 URL만들기</h5>

<p><a href="http://localhost:4000/DevStrory/2019-05-20/make-lambda#temp1" target="blank">AWS Lambda 만들기</a> 로 가서 Lambda 함수와 APIGateway를 만듭니다.</p>

<h5 id="2-웹훅-등록">2) 웹훅 등록</h5>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">url</span><span class="p">:</span> <span class="na">https</span><span class="p">:</span><span class="c1">//api.trello.com/1/tokens/${token}/webhooks/?key=${key},</span>
    <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">description</span><span class="p">:</span> <span class="nx">$</span><span class="p">{</span><span class="nx">description</span><span class="p">},</span>
      <span class="na">callbackURL</span><span class="p">:</span> <span class="nx">$</span><span class="p">{</span><span class="nx">callbackURL</span><span class="p">},</span>
      <span class="na">idModel</span><span class="p">:</span> <span class="nx">$</span><span class="p">{</span><span class="nx">idModel</span><span class="p">},</span>
    <span class="p">},</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>

    <span class="p">},</span>
    <span class="na">error</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>

    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<p>${token}은 트렐로 Token을 입력해 줍니다.<br />
${key}은 트렐로 Key를 입력해 줍니다.<br />
${description}은 웹훅 별칭을 입력해 줍니다.<br />
${callbackURL}은 callback을 받을 URL을 입력해 줍니다.<br />
${idModel}은 리스트의 ID를 입력해 줍니다.</p>

<p><span>Key 입력</span><br />
<input id="input_key_webhook" type="text" value="" placeholder="키를 입력해 주세요." style="height: 40px; width: 100%; border: 2px solid black; border-radius: 5px; font-size: 15px;" />
<span>Token 입력</span><br />
<input id="input_token_webhook" type="text" value="" placeholder="토큰을 입력해 주세요." style="height: 40px; width: 100%; border: 2px solid black; border-radius: 5px; font-size: 15px;" />
<span>Description 입력</span><br />
<input id="input_description_webhook" type="text" value="" placeholder="description을 입력해 주세요." style="height: 40px; width: 100%; border: 2px solid black; border-radius: 5px; font-size: 15px;" />
<span>callbackURL 입력</span><br />
<input id="input_callbackURL_webhook" type="text" value="" placeholder="callbackURL을 입력해 주세요." style="height: 40px; width: 100%; border: 2px solid black; border-radius: 5px; font-size: 15px;" />
<span>idModel 입력</span><br />
<input id="input_idModel_webhook" type="text" value="" placeholder="idModel을 입력해 주세요." style="height: 40px; width: 100%; border: 2px solid black; border-radius: 5px; font-size: 15px;" /></p>

<p><button id="register_webhook" style="height:44px; width: 25%; border-top: 2px solid black; border-radius: 5px; font-size: 16px; background-color: black; color: white;">웹훅 등록</button></p>
<pre id="print_register_webhook" style="padding: 0px; margin: 0px;"></pre>

<h5 id="3-웹훅-리스트-조회">3) 웹훅 리스트 조회</h5>

<p><a href="https://api.trello.com/1/members/me/tokens?webhooks=true&amp;key=&amp;token=" target="blank">https://api.trello.com/1/members/me/tokens?webhooks=true&amp;key=${key}&amp;token=${token}</a></p>

<p>${key}은 트렐로 Key를 입력해 줍니다.<br />
${token}은 트렐로 Token을 입력해 줍니다.</p>

<p><img src="http://localhost:4000/DevStrory/images/2019/trello-webhook/webhookList.png" alt="WebhookList" /></p>

<p>등록된 웹훅 리스트를 가져왔습니다.<br />
등록된 웹훅을 삭제하려면 webhooks 안의 id 값이 필요합니다.</p>

<p><span>Key 입력</span><br />
<input id="input_key_webhook_list" type="text" value="" placeholder="키를 입력해 주세요." style="height: 40px; width: 100%; border: 2px solid black; border-radius: 5px; font-size: 15px;" />
<span>Token 입력</span><br />
<input id="input_token_webhook_list" type="text" value="" placeholder="토큰을 입력해 주세요." style="height: 40px; width: 100%; border: 2px solid black; border-radius: 5px; font-size: 15px;" />
(결과값 간단히 보기 <input id="check_find_webhook_list" checked="true" type="checkbox" />)<br />
<button id="search_webhook_list" style="height:44px; width: 25%; border-top: 2px solid black; border-radius: 5px; font-size: 16px; background-color: black; color: white;">등록 웹훅 리스트 찾기</button></p>
<pre id="print_webhook_list" style="padding: 0px; margin: 0px;"></pre>

<h5 id="4-웹훅-삭제">4) 웹훅 삭제</h5>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">DELETE</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">url</span><span class="p">:</span> <span class="na">https</span><span class="p">:</span><span class="c1">//api.trello.com/1/tokens/${token}/webhooks/${webhookID}?key=${key},</span>
    <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>

    <span class="p">},</span>
    <span class="na">error</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>

    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<p>${token}은 트렐로 Token을 입력해 줍니다.<br />
${key}은 트렐로 Key를 입력해 줍니다.<br />
${webhookID}은 웹훅의 ID를 입력해 줍니다.</p>

<p><span>Key 입력</span><br />
<input id="input_key_delete_webhook" type="text" value="" placeholder="키를 입력해 주세요." style="height: 40px; width: 100%; border: 2px solid black; border-radius: 5px; font-size: 15px;" />
<span>Token 입력</span><br />
<input id="input_token_delete_webhook" type="text" value="" placeholder="토큰을 입력해 주세요." style="height: 40px; width: 100%; border: 2px solid black; border-radius: 5px; font-size: 15px;" />
<span>webhookID 입력</span><br />
<input id="input_webhook_id_delete_webhook" type="text" value="" placeholder="webhookID을 입력해 주세요." style="height: 40px; width: 100%; border: 2px solid black; border-radius: 5px; font-size: 15px;" /></p>

<p><button id="delete_webhook" style="height:44px; width: 25%; border-top: 2px solid black; border-radius: 5px; font-size: 16px; background-color: black; color: white;">웹훅 삭제</button></p>
<pre id="print_delete_webhook" style="padding: 0px; margin: 0px;"></pre>

<h3 id="4웹훅-테스트">4.웹훅 테스트</h3>

<h5 id="1-lambda에-log-찍기">1) Lambda에 Log 찍기</h5>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">exports</span><span class="p">.</span><span class="nx">handler</span> <span class="o">=</span> <span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>
    <span class="nx">callback</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">statusCode</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="dl">"</span><span class="s2">Access-Control-Allow-Origin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">*</span><span class="dl">"</span><span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Success</span><span class="dl">"</span>
    <span class="p">});</span>
<span class="p">};</span>
</code></pre></div></div>

<p>간단하게 로그를 찍어봅니다.</p>

<h5 id="2-log">2) Log</h5>

<p><img src="http://localhost:4000/DevStrory/images/2019/trello-webhook/log.png" alt="Log" /></p>

<p>type에 트렐로 타입들이 나옵니다.</p>

<h5 id="3-type">3) Type</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>action_renamed_list: 리스트 제목 변경
action_archived_list: 리스트 아카이브
action_sent_list_to_board: 리스트 아카이브 복구
action_create_card: 리스트 카드 생성
action_renamed_card: 카드 제목 변경
action_changed_description_of_card: 카드 Description 수정
action_add_attachment_to_card: 카드 Attachment 추가
action_comment_on_card: 카드 댓글 추가
action_convert_to_card_from_checkitem: 카드 체크리스트를 카드로 추가
action_added_a_due_date: 카드 일정 추가
action_changed_a_due_date: 카드 일정 수정
action_removed_a_due_date: 카드 일정 삭제
action_marked_the_due_date_complete: 카드 일정 완료
action_marked_the_due_date_incomplete: 카드 일정 완료 취소
action_moved_card_lower: 카드 순서 상단으로 변경
action_moved_card_higher: 카드 순서 하단으로 변경
action_move_card_from_list_to_list: 카드의 리스트 위치 변경
action_archived_card: 카드 아카이브
action_sent_card_to_board: 카드 아카이브 복구
action_delete_card: 카드 삭제
</code></pre></div></div>

<h5 id="4-구조">4) 구조</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var trelloInfo = new TrelloInfo(event);

// trello
function TrelloInfo(event) {
  this.model = new EventModel(event["model"] || {});
  this.action = new EventAction(event["action"] || {});
}

// model
function EventModel(element) {
  this.id = element["id"];
  this.name = element["name"];
  this.closed = element["closed"];
  this.idBoard = element["idBoard"];
  this.pos = element["pos"];
}

// action
function EventAction(element) {
  this.id = element["id"];
  this.idMemberCreator = element["idMemberCreator"];
  this.type = element["type"];
  this.date = element["date"];

  this.limits = new EventActionLimit(element["limits"] || {});
  this.data = new EventActionData(element["data"] || {});
  this.display = new EventActionDisplay(element["display"] || {});
  this.memberCreator = new EventActionMemberCreator(element["memberCreator"] || {});
}

// action - limit
function EventActionLimit(element) {
  this.reactions = new EventActionLimitReactions(element["reactions"] || {});
}

// action - limit - reactions
function EventActionLimitReactions(element) {
  this.perAction = new EventActionLimitPerAction(element["perAction"] || {});
  this.uniquePerAction = new EventActionLimitUniquePerAction(element["uniquePerAction"] || {});
}

// action - limit - reactions - perAction
function EventActionLimitPerAction(element) {
  this.status = element["status"];
  this.disableAt = element["disableAt"];
  this.warnAt = element["warnAt"];
}

// action - limit - reactions - uniquePerAction
function EventActionLimitUniquePerAction(element) {
  this.status = element["status"];
  this.disableAt = element["disableAt"];
  this.warnAt = element["warnAt"];
}

// action - data
function EventActionData(element) {
  this.cardSource = new EventActionDataCardSource(element["cardSource"] || {});
  this.checklist = new EventActionDataChecklist(element["checklist"] || {});
  this.listAfter = new EventActionDataListAfter(element["listAfter"] || {});
  this.listBefore = new EventActionDataListBefore(element["listBefore"] || {});
  this.board = new EventActionDataBoard(element["board"] || {});
  this.list = new EventActionDataList(element["list"] || {});
  this.card = new EventActionDataCard(element["card"] || {});
  this.old = new EventActionDataOld(element["old"] || {});
  this.attachment = new EventActionDataAttachment(element["attachment"] || {});
  this.text = element["text"];
}

// action - data - cardSource
function EventActionDataCardSource(element) {
  this.shortLink = element["shortLink"];
  this.idShort = element["idShort"];
  this.name = element["name"];
  this.id = element["id"];
}

// action - data - checklist
function EventActionDataChecklist(element) {
  this.name = element["name"];
  this.id = element["id"];
}

// action - data - listAfter
function EventActionDataListAfter(element) {
  this.creationMethod = element["creationMethod"];
  this.name = element["name"];
  this.id = element["id"];
}

// action - data - listBefore
function EventActionDataListBefore(element) {
  this.name = element["name"];
  this.id = element["id"];
}

// action - data - board
function EventActionDataBoard(element) {
  this.creationMethod = element["creationMethod"];
  this.shortLink = element["shortLink"];
  this.name = element["name"];
  this.id = element["id"];
}

// action - data - list
function EventActionDataList(element) {
  this.id = element["id"];
  this.name = element["name"];
}

// action - data - card
function EventActionDataCard(element) {
  this.shortLink = element["shortLink"];
  this.idShort = element["idShort"];
  this.name = element["name"];
  this.id = element["id"];
  this.idList = element["idList"];
  this.due = element["due"];
  this.dueComplete = element["dueComplete"];
  this.pos = element["pos"];
}

// action - data - old
function EventActionDataOld(element) {
  this.idList = element["idList"];
  this.name = element["name"];
  this.desc = element["desc"];
  this.due = element["due"];
  this.dueComplete = element["dueComplete"];
  this.pos = element["pos"];
  this.closed = element["closed"];
}

// action - data - attachment
function EventActionDataAttachment(element) {
  this.previewUrl2x = element["previewUrl2x"];
  this.previewUrl = element["previewUrl"];
  this.url = element["url"];
  this.name = element["name"];
  this.id = element["id"];
}

// action - display
function EventActionDisplay(element) {
  this.translationKey = element["translationKey"];
  this.entities = new EventActionDisplayEntities(element["entities"] || {});
}

// action - display - entities
function EventActionDisplayEntities(element) {
  this.date = new EventActionDisplayEntitiesDate(element["date"] || {});
  this.cardSource = new EventActionDisplayEntitiesCardSource(element["cardSource"] || {});
  this.card = new EventActionDisplayEntitiesCard(element["card"] || {});
  this.list = new EventActionDisplayEntitiesList(element["list"] || {});
  this.name = new EventActionDisplayEntitiesName(element["name"] || {});
  this.contextOn = new EventActionDisplayEntitiesContextOn(element["contextOn"] || {});
  this.comment = new EventActionDisplayEntitiesComment(element["comment"] || {});
  this.listBefore = new EventActionDisplayEntitiesListBefore(element["listBefore"] || {});
  this.listAfter = new EventActionDisplayEntitiesListAfter(element["listAfter"] || {});
  this.attachment = new EventActionDisplayEntitiesAttachment(element["attachment"] || {});
  this.attachmentPreview = new EventActionDisplayEntitiesAttachmentPreview(element["attachmentPreview"] || {});
  this.memberCreator = new EventActionDisplayEntitiesMemberCreator(element["memberCreator"] || {});
}

// action - display - entities - date
function EventActionDisplayEntitiesDate(element) {
  this.type = element["type"];
  this.date = element["date"];
}

// action - display - entities - cardSource
function EventActionDisplayEntitiesCardSource(element) {
  this.type = element["type"];
  this.id = element["id"];
  this.idShort = element["idShort"];
  this.text = element["text"];
}

// action - display - entities - card
function EventActionDisplayEntitiesCard(element) {
  this.type = element["type"];
  this.idList = element["idList"];
  this.id = element["id"];
  this.shortLink = element["shortLink"];
  this.text = element["text"];
  this.desc = element["desc"];
  this.dueComplete = element["dueComplete"];
  this.pos = element["pos"];
}

// action - display - entities - list
function EventActionDisplayEntitiesList(element) {
  this.type = element["type"];
  this.id = element["id"];
  this.text = element["text"];
}

// action - display - entities - name
function EventActionDisplayEntitiesName(element) {
  this.type = element["type"];
  this.text = element["text"];
}

// action - display - entities - contextOn
function EventActionDisplayEntitiesContextOn(element) {
  this.type = element["type"];
  this.translationKey = element["translationKey"];
  this.hideIfContext = element["hideIfContext"];
  this.idContext = element["idContext"];
}

// action - display - entities - comment
function EventActionDisplayEntitiesComment(element) {
  this.type = element["type"];
  this.id = element["id"];
  this.username = element["username"];
  this.text = element["text"];
}

// action - display - entities - listBefore
function EventActionDisplayEntitiesListBefore(element) {
  this.type = element["type"];
  this.id = element["id"];
  this.text = element["text"];
}

// action - display - entities - listAfter
function EventActionDisplayEntitiesListAfter(element) {
  this.type = element["type"];
  this.id = element["id"];
  this.text = element["text"];
  this.creationMethod = element["creationMethod"];
}

// action - display - entities - attachment
function EventActionDisplayEntitiesAttachment(element) {
  this.type = element["type"];
  this.id = element["id"];
  this.previewUrl = element["previewUrl"];
  this.previewUrl2x = element["previewUrl2x"];
  this.link = element["link"];
  this.text = element["text"];
  this.url = element["url"];
}

// action - display - entities - attachmentPreview
function EventActionDisplayEntitiesAttachmentPreview(element) {
  this.type = element["type"];
  this.originalUrl = element["originalUrl"];
  this.id = element["id"];
  this.previewUrl = element["previewUrl"];
  this.previewUrl2x = element["previewUrl2x"];
}

// action - display - entities - memberCreator
function EventActionDisplayEntitiesMemberCreator(element) {
  this.type = element["type"];
  this.id = element["id"];
  this.username = element["username"];
  this.text = element["text"];
}

// action - memberCreator
function EventActionMemberCreator(element) {
  this.id = element["id"];
  this.avatarHash = element["avatarHash"];
  this.avatarUrl = element["avatarUrl"];
  this.fullName = element["fullName"];
  this.idMemberReferrer = element["idMemberReferrer"];
  this.initials = element["initials"];
  this.nonPublic = element["nonPublic"] || {};
  this.nonPublicAvailable = element["nonPublicAvailable"];
  this.username = element["username"];
}
</code></pre></div></div>

<script src="https://code.jquery.com/jquery-1.12.4.js"></script>

<script type="text/javascript">
$(document).ready(function() {

  $("#find_id").click(function() {
    const username = $("#input_username_id").val();

    if (username == "" || username == undefined) {
      $("#print_id").empty();
      $("#print_id").append("username을 입력하세요.");
      return
    }
    const urlPath = "https://api.trello.com/1/members/"+username;

    $.ajax({
          type: "GET",
          url: urlPath,
          success: function(args) {
            $("#print_id").empty();
            if ($("#check_find_id").is(':checked')) {
              var json = JSON.stringify({"id": args["id"]}, null, 4);
              $("#print_id").append(document.createTextNode(json));
            } else {
              var json = JSON.stringify(args, null, 4);
              $("#print_id").append(document.createTextNode(json));
            }
          },
          error: function(e) {
            var json = JSON.stringify(e, null, 4);
            $("#print_id").empty();
            $("#print_id").append(document.createTextNode(json));
          }
      });
  });

  $("#search_board").click(function() {
    const key = $("#input_key_board").val();
    if (key == "" || key == undefined) {
      $("#print_board").empty();
      $("#print_board").append("key를 입력하세요.");
      return
    }

    const token = $("#input_token_board").val();
    if (token == "" || token == undefined) {
      $("#print_board").empty();
      $("#print_board").append("token을 입력하세요.");
      return
    }

    const id = $("#input_id_board").val();
    if (id == "" || id == undefined) {
      $("#print_board").empty();
      $("#print_board").append("id를 입력하세요.");
      return
    }
    const urlPath = "https://api.trello.com/1/members/"+id+"/boards?key="+key+"&token="+token;

    $.ajax({
          type: "GET",
          url: urlPath,
          success: function(args) {
            $("#print_board").empty();
            if ($("#check_find_board").is(':checked')) {
              var items = [];
              args.forEach(function(item) {
                items.push({
                  "name": item["name"],
                  "shortLink": item["shortLink"],
                });
              });
              var json = JSON.stringify(items, null, 4);
              $("#print_board").append(document.createTextNode(json));
            } else {
              var json = JSON.stringify(args, null, 4);
              $("#print_board").append(document.createTextNode(json));
            }
          },
          error: function(e) {
            var json = JSON.stringify(e, null, 4);
            $("#print_board").empty();
            $("#print_board").append(document.createTextNode(json));
          }
      });
  });


  $("#search_list").click(function() {
    const key = $("#input_key_list").val();
    if (key == "" || key == undefined) {
      $("#print_board").empty();
      $("#print_board").append("key를 입력하세요.");
      return
    }

    const token = $("#input_token_list").val();
    if (token == "" || token == undefined) {
      $("#print_board").empty();
      $("#print_board").append("token을 입력하세요.");
      return
    }

    const shortLink = $("#input_shortLink_list").val();
    if (shortLink == "" || shortLink == undefined) {
      $("#print_list").empty();
      $("#print_list").append("shortLink를 입력하세요.");
      return
    }
    const urlPath = "https://api.trello.com/1/boards/"+shortLink+"/lists?key="+key+"&token="+token;

    $.ajax({
          type: "GET",
          url: urlPath,
          success: function(args) {
            $("#print_list").empty();
            if ($("#check_find_list").is(':checked')) {
              var items = [];
              args.forEach(function(item) {
                items.push({
                  "id": item["id"],
                  "name": item["name"],
                  "closed": item["closed"]
                });
              });
              var json = JSON.stringify(items, null, 4);
              $("#print_list").append(document.createTextNode(json));
            } else {
              var json = JSON.stringify(args, null, 4);
              $("#print_list").append(document.createTextNode(json));
            }
          },
          error: function(e) {
            var json = JSON.stringify(e, null, 4);
            $("#print_list").empty();
            $("#print_list").append(document.createTextNode(json));
          }
      });
  });




  $("#register_webhook").click(function() {
    const key = $("#input_key_webhook").val();
    if (key == "" || key == undefined) {
      $("#print_register_webhook").empty();
      $("#print_register_webhook").append("key를 입력하세요.");
      return
    }

    const token = $("#input_token_webhook").val();
    if (token == "" || token == undefined) {
      $("#print_register_webhook").empty();
      $("#print_register_webhook").append("token을 입력하세요.");
      return
    }

    const description = $("#input_description_webhook").val();
    if (description == "" || description == undefined) {
      $("#print_register_webhook").empty();
      $("#print_register_webhook").append("description을 입력하세요.");
      return
    }

    const callbackURL = $("#input_callbackURL_webhook").val();
    if (callbackURL == "" || callbackURL == undefined) {
      $("#print_register_webhook").empty();
      $("#print_register_webhook").append("callbackURL을 입력하세요.");
      return
    }

    const idModel = $("#input_idModel_webhook").val();
    if (idModel == "" || idModel == undefined) {
      $("#print_register_webhook").empty();
      $("#print_register_webhook").append("idModel을 입력하세요.");
      return
    }

    const urlPath = "https://api.trello.com/1/tokens/"+token+"/webhooks/?key="+key;
    $.ajax({
        type: "POST",
        url: urlPath,
        data: {
          description: description,
          callbackURL: callbackURL,
          idModel: idModel,
        },
        success: function(args) {
          $("#print_register_webhook").empty();
          var json = JSON.stringify(args, null, 4);
          $("#print_register_webhook").append(document.createTextNode(json));
        },
        error: function(e) {
          var json = JSON.stringify(e, null, 4);
          $("#print_register_webhook").empty();
          $("#print_register_webhook").append(document.createTextNode(json));
        }
    });
  });


  $("#search_webhook_list").click(function() {
    const key = $("#input_key_webhook_list").val();
    if (key == "" || key == undefined) {
      $("#print_webhook_list").empty();
      $("#print_webhook_list").append("key를 입력하세요.");
      return
    }

    const token = $("#input_token_webhook_list").val();
    if (token == "" || token == undefined) {
      $("#print_webhook_list").empty();
      $("#print_webhook_list").append("token을 입력하세요.");
      return
    }
    const urlPath = "https://api.trello.com/1/members/me/tokens?webhooks=true&key="+key+"&token="+token;
    $.ajax({
        type: "GET",
        url: urlPath,
        success: function(args) {
          $("#print_webhook_list").empty();
          if ($("#check_find_webhook_list").is(':checked')) {
            var webhooks = [];
            args.forEach(function (item) {
              item["webhooks"].forEach(function(element) {
                webhooks.push(element);
              });
            });
            var json = JSON.stringify(webhooks, null, 4);
            $("#print_webhook_list").append(document.createTextNode(json));
          } else {
            var json = JSON.stringify(args, null, 4);
            $("#print_webhook_list").append(document.createTextNode(json));
          }
        },
        error: function(e) {
          var json = JSON.stringify(e, null, 4);
          $("#print_webhook_list").empty();
          $("#print_webhook_list").append(document.createTextNode(json));
        }
    });
  });




  $("#delete_webhook").click(function() {
    const key = $("#input_key_delete_webhook").val();
    if (key == "" || key == undefined) {
      $("#print_delete_webhook").empty();
      $("#print_delete_webhook").append("key를 입력하세요.");
      return
    }

    const token = $("#input_token_delete_webhook").val();
    if (token == "" || token == undefined) {
      $("#print_delete_webhook").empty();
      $("#print_delete_webhook").append("token을 입력하세요.");
      return
    }

    const webhookID = $("#input_webhook_id_delete_webhook").val();
    if (webhookID == "" || webhookID == undefined) {
      $("#print_delete_webhook").empty();
      $("#print_delete_webhook").append("webhookID를 입력하세요.");
      return
    }
    const urlPath = "https://api.trello.com/1/token/"+token+"/webhooks/"+webhookID+"?key="+key;
    $.ajax({
        type: "DELETE",
        url: urlPath,
        success: function(args) {
          $("#print_delete_webhook").empty();
          var json = JSON.stringify(args, null, 4);
          $("#print_delete_webhook").append(document.createTextNode(json));
        },
        error: function(e) {
          var json = JSON.stringify(e, null, 4);
          $("#print_delete_webhook").empty();
          $("#print_delete_webhook").append(document.createTextNode(json));
        }
    });
  });

});
</script>



  <!-- Disqus -->
  
  <div class="post-disqus">
      <section id="disqus_thread"></section>
      <script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//devstrory.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  </div>
  

</div>


    <!-- Documents about icons are here: http://fontawesome.io/icons/ -->
<div class="footer">
  <hr />
  <div class="footer-link">
    
    <a href="https://www.facebook.com/groups/docfriends/"><i class="fa fa-facebook" aria-hidden="true"></i></a>
    
	
	
    <a href="https://www.youtube.com/user/Docairs"><i class="fa fa-youtube" aria-hidden="true"></i></a>
    
	
	

    

    
    <a href="https://github.com/Docfriends"><i class="fa fa-github" aria-hidden="true"></i></a>
    
	
	
	
	

    
	
	
	
	
	
	
	
	

    

    

    
    <a href="mailto:apps@docfriends.com"><i class="fa fa-envelope" aria-hidden="true"></i></a>
    

  </div>
  © 2018 Docfriends. All rights reserved.
</div>

  </div>
</body>
</html>
